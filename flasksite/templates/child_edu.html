{% extends "layout.html" %}
{% block content %}
<h1>Module: Child Education Savings</h1>

<style type="text/css">
    .tg  {border-collapse:collapse;border-spacing:0;}
    .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg .tg-baqh{text-align:center;vertical-align:center}
    .tg .tg-0lax{text-align:left;vertical-align:center}
  </style>
    <div style="overflow: auto; width: 1100px; height: 575px;">
      <table class="table">
      <colgroup>
        <col style="width: 100px">
        <col style="width: 60px">
        <col style="width: 60px">
        <col style="width: 60px">
        <col style="width: 500px">
      </colgroup>
      <thead>
      <tr>
        <td class="tg-baqh" onclick="what_is()" id="what_is_cell"><div class="unselectable">What is an RESP?</div></td>
        <td class="tg-0pky" id="what_is_label">1/3</td>
        <th height=500px class="tg-0lax" rowspan="6" onclick="next()" style="vertical-align: top;"><div id="module_text" class="unselectable"> </div></th>
      </tr>
      <tr>
        <td class="tg-baqh" onclick="how_work()" id="how_work_cell"><div class="unselectable">How do RESPs work?</div></td>
        <td class="tg-0pky" id="how_work_label">1/2</td>
      </tr>
      <tr>
        <td class="tg-baqh" onclick="how_get()" id="how_get_cell"><div class="unselectable">How do you get an RESP?</div></td>
        <td class="tg-0pky" id="how_get_label">1/13</td>
      </tr>
      <tr>
        <td class="tg-baqh" onclick="opening()" id="opening_cell"><div class="unselectable">Opening an RESP</div></td>
        <td class="tg-0pky" id="opening_label">1/15</td>
      </tr>
      <tr>
        <td class="tg-baqh" onclick="using()" id="using_cell"><div class="unselectable">Using your RESP</div></td>
        <td class="tg-0pky" id="using_label">1/15</td>
      </tr>
      </thead>
      <tbody>
        <tr>
          <div class="unselectable">
            <th class="tg-0lax" id="quiz" onclick="quiz()" style="background-color: grey;">Quiz</th>
          </div>
          <td class="tg-0pky" id="score_cell">{{ score }}</td>
          <td class="tg-0lax" onclick="backwards()"><button class="unselectable">Previous</button></td>
          <td class="tg-0lax" onclick="next()"><button class="unselectable">Next</button></td>
          <td class="tg-0lax">Progress Bar?</td>
        </tr>
      </tbody>
      </table>
    </div>
    <button onclick="increase()">asdasd</button>
    <h1 id="scoring"></h1>
    <!-- {% macro increase() %}
      {% set score = score + 1 %}
      <h1 class="asd" id="asd">{{ score }}</h1>
    {% endmacro %}
    
    <h1>{{ increase() }}</h1>
    <h1>{{ score }}</h1> -->


    <script>
      let counter = [1,1,1,1,1];
      let counterq = 0;
      let finished = [0,0,0,0];
      let which = 0;
      var score = '{{ score }}';

        function what_is() {
          which = 1
            var text = document.getElementById("module_text");
            var label = document.getElementById("what_is_label");
            document.getElementById("what_is_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';

            var content = ["what is 1","what is 2","what is 3"]
            text.innerHTML = content[counter[0]-1];
            if (counter[0] > content.length){
              counter[0] = content.length
              document.getElementById("what_is_label").style.backgroundColor = 'lightgreen';
              how_work()
            }
            label.innerHTML = `${counter[0]}/${content.length}`
        }
        function how_work() {
          which = 2
            var text = document.getElementById("module_text");
            var label = document.getElementById("how_work_label");
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';

            var content = ["how work 1", "how work 2"]
            text.innerHTML = content[counter[1]-1];
            if (counter[1] > content.length){
              counter[1] = content.length
              document.getElementById("how_work_label").style.backgroundColor = 'lightgreen';
              how_get()
            }
            label.innerHTML = `${counter[1]}/${content.length}`
        }
        function how_get() {
          which = 3
            var text = document.getElementById("module_text");
            var label = document.getElementById("how_get_label");
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';
            
            var content = ["how get 1","how get 2","how get 3"]
            text.innerHTML = content[counter[2]-1];
            if (counter[2] > content.length){
              counter[2] = content.length
              document.getElementById("how_get_label").style.backgroundColor = 'lightgreen';
              opening()
            }
            label.innerHTML = `${counter[2]}/${content.length}`
        }
        function opening() {
          which = 4
            var text = document.getElementById("module_text");
            var label = document.getElementById("opening_label");
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("using_cell").style.backgroundColor = 'white';

            var content = ["opening 1","opening 2"]
            text.innerHTML = content[counter[3]-1];
            if (counter[3] > content.length){
              counter[3] = content.length
              document.getElementById("opening_label").style.backgroundColor = 'lightgreen';
              using()
            }
            label.innerHTML = `${counter[3]}/${content.length}`
        }
        function using() {
          which = 5
            var text = document.getElementById("module_text");
            var label = document.getElementById("using_label");
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'lightgreen';

            var content = ["using 1","using 2"]
            text.innerHTML = content[counter[4]-1];
            if (counter[4] > content.length){
              counter[4] = content.length
              document.getElementById("using_label").style.backgroundColor = 'lightgreen';
              quiz()
            }
            label.innerHTML = `${counter[4]}/${content.length}`
        }
        function next() {
          if ((document.getElementById("what_is_label").style.backgroundColor == 'lightgreen') && (document.getElementById("how_work_label").style.backgroundColor == 'lightgreen') && (document.getElementById("how_get_label").style.backgroundColor == 'lightgreen') && (document.getElementById("opening_label").style.backgroundColor == 'lightgreen') && (document.getElementById("using_label").style.backgroundColor == 'lightgreen')){
            document.getElementById("quiz").style.backgroundColor = 'white';
          }
          if (which == 1){
            counter[0] = counter[0] + 1
            document.getElementById("what_is_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';
            what_is()
          }
          else if (which == 2){
            counter[1] = counter[1] + 1
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';
            how_work()
          }
          else if (which == 3){
            counter[2] = counter[2] + 1
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'white';
            how_get()
          }
          else if (which == 4){
            counter[3] = counter[3] + 1
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'lightgreen';
            document.getElementById("using_cell").style.backgroundColor = 'white';
            opening()
          }
          else if (which == 5){
            counter[4] = counter[4] + 1
            document.getElementById("what_is_cell").style.backgroundColor = 'white';
            document.getElementById("how_work_cell").style.backgroundColor = 'white';
            document.getElementById("how_get_cell").style.backgroundColor = 'white';
            document.getElementById("opening_cell").style.backgroundColor = 'white';
            document.getElementById("using_cell").style.backgroundColor = 'lightgreen';
            using()
          }
        }
        function backwards() {
        if ((which == 1) && (counter[0] > 1)){
            counter[0] = counter[0] - 1
            what_is()
        }
        else if ((which == 2) && (counter[1] > 1)){
            counter[1] = counter[1] - 1
            how_work()
        }
        else if ((which == 3) && (counter[2] > 1)){
            counter[2] = counter[2] - 1
            how_get()
        }
        else if ((which == 4) && (counter[3] > 1)){
            counter[3] = counter[3] - 1
            opening()
        }
        else if ((which == 5) && (counter[4] > 1)){
            counter[4] = counter[4] - 1
            using()
        }
      }
      function quiz(){
        which = 5
        
        if ((document.getElementById("what_is_label").style.backgroundColor == 'lightgreen') && (document.getElementById("how_work_label").style.backgroundColor == 'lightgreen') && (document.getElementById("how_get_label").style.backgroundColor == 'lightgreen') && (document.getElementById("opening_label").style.backgroundColor == 'lightgreen') && (document.getElementById("using_label").style.backgroundColor == 'lightgreen')){
          counterq = counterq + 1
          document.getElementById("what_is_cell").style.backgroundColor = 'white';
          document.getElementById("how_work_cell").style.backgroundColor = 'white';
          document.getElementById("how_get_cell").style.backgroundColor = 'white';
          document.getElementById("opening_cell").style.backgroundColor = 'white';
          document.getElementById("using_cell").style.backgroundColor = 'white';
          document.getElementById("quiz").style.backgroundColor = 'lightgreen';

          var text = document.getElementById("module_text");
          var content = ["question 1"]         
          text.innerHTML = "<p>Please select your gender:</p><input type='radio' id='male' name='gender' value='male'><label for='male'>Male</label><br><input type='radio' id='female' name='gender' value='female'><label for='female'>Female</label><br>"
          // text.innerHTML = 
        }
      }
      function increase(){
        score = score + 1
        document.getElementById("scoring").innerHTML = score
      }
    </script>
<style>
.unselectable {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      cursor:pointer;
}
</style>
{% endblock content %}
<!-- for clickable, put counter in for loop, put button at bottom of content, set up array for content diplay -->